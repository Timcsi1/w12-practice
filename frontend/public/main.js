(()=>{console.log("loaded");const e=(e,n,t,a)=>`\n    <div class="card">\n        <h2>${n}</h2>\n        <h3>${t}</h3>\n        <h4>${a}</h4>\n        <img src="public/images/${e}" />\n    </div>\n`;(async()=>{const n=await(async()=>fetch("/images").then((e=>e.json())))();console.log(n);const t=document.querySelector("#root");n.map((n=>{t.insertAdjacentHTML("beforeend",e(n.url,n.title,n.uploadDate,n.phName))})),t.insertAdjacentHTML("beforeend",'\n    <form>\n        <input type="file" name="file" />\n        <input type="text" name="title" />\n        <input type="text" name="phname" />\n        <button>Send</button>\n    </form>\n');const a=document.querySelector("form");a.addEventListener("submit",(n=>{n.preventDefault();const t=new FormData;t.append("image",a.querySelector('input[name="file"]').files[0]),t.append("title",a.querySelector('input[name="title"]').value),t.append("phname",a.querySelector('input[name="phname"]').value),fetch("/upload-image",{method:"POST",body:t}).then((e=>e.json())).then((n=>a.insertAdjacentHTML("beforebegin",e(n.url,n.title,n.uploadDate,n.phName))))}))})()})();